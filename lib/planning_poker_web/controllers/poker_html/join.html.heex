<Layouts.app flash={@flash} current_scope={%{}}>
  <.header>
    {@poker.name}
  </.header>

  <div class="max-w-md mx-auto">
    <.form
      for={@form}
      id="join-form"
      action={~p"/poker/#{@poker.id}"}
      method="post"
      class="space-y-6"
    >
      <.input
        field={@form[:name]}
        type="text"
        label="Your Name"
        placeholder="Enter your name"
        required
        autofocus
      />

      <div class="form-control">
        <label class="label cursor-pointer items-start gap-3">
          <.input
            field={@form[:privacy_agreement]}
            type="checkbox"
            required
          />
          <span class="text-sm leading-relaxed flex-1 whitespace-normal">
            I agree to the
            <.link navigate={~p"/privacy"} target="_blank" class="link link-primary">
              data privacy policy
            </.link>
            and understand that my name and votes will be stored in the database during the session and deleted after 30 days of inactivity.
          </span>
        </label>
      </div>

      <.button type="submit" class="btn btn-primary w-full">
        Join Session
      </.button>
    </.form>
  </div>
</Layouts.app>
